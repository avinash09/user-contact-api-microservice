server:
 port: 9000
 
eureka:
 client:
  register-with-eureka: true
  fetch-registry: true
  serviceUrl:
   defaultZone: ${EUREKA_URI:http://localhost:8761/eureka}
 instance:
  hostname: localhost
 
spring:
 application:
  name: API-GATEWAY
 cloud:
  gateway:
   routes:
   - id: contact-service
     uri: lb://CONTACT-SERVICE
     predicates:
     - Path=/contact/**
     filters:
     - name: CircuitBreaker
       args:
        name: contact-service
        fallbackuri: forward:/contactFallBack

   - id: user-service
     uri: lb://USER-SERVICE
     predicates:
     - Path=/user/**
     filters:
     - name: CircuitBreaker
       args:
        name: user-service
        fallbackuri: forward:/userFallBack

management:
 endpoints:
  web:
   exposure:
    include: hystrix.stream

hystrix:
 command:
  fallbackcmd:
   execution:
    isolation:
     thread:
      timeoutInMilliseconds: 5000